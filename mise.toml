[tools]
"npm:markdownlint-cli2" = "latest"
"cargo:scraps" = "latest"

[tasks.build]
description = "Build static site from Markdown files"
run = "scraps build"

[tasks.serve]
description = "Serve the wiki locally at http://127.0.0.1:1112"
run = "scraps serve"

[tasks.lint]
description = "Run markdownlint on all markdown files"
run = "markdownlint-cli2 \"scraps/**/*.md\" \"*.md\""

[tasks.lint-fix]
description = "Run markdownlint and auto-fix issues"
run = "markdownlint-cli2 --fix \"scraps/**/*.md\" \"*.md\""

[tasks.generate-book]
description = "Generate a book scrap from template"
usage = '''
arg "<title>" help="Book title"
'''
run = "scraps template generate book -t \"${usage_title}\""
[tasks.generate-book.env]
SUBTITLE = ""
AUTHOR = ""
TRANSLATOR = ""
COVER = ""
HOME_TITLE = ""
HOME_URL = ""
TOC = ""
